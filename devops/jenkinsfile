pipeline {
  agent { 
    // this image provides everything needed to run Cypress
    docker {
      image 'cypress/base:10'
    }
  }
    environment {
        CYPRESS_CACHE_FOLDER ='.cache/Cypress'
    }
    stages {
        stage('Dependencies') {
            steps {
                sh 'npm install'
            }
        }
        stage('e2e Tests') {
            steps {
                sh 'npm run test'
            }
        }
    }
}